<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (jpx_metanode::count_descendants) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jpx$anode__get_delayed.html"> prev </A>||<A HREF="jpx$anode__get$escendant.html"> next </A>|</P>
<H1><A NAME="ToP">jpx_metanode::count_descendants</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Jpx_metanode.Count_descendants</EM></H3></DIR></DIR>
<P CLASS="function-text"><B>bool</B> count_descendants(
<B>int</B>&nbsp;&amp;&nbsp;count)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native boolean Count_descendants(
int[]&nbsp;count)</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++apps+c$essed_io+jpx+h.html">"../apps/compressed_io/jpx.h"</A>]</P><P><A HREF="jpx$anode.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
From Kakadu version 7.0, there is a much better way
to walk through descendants of a node than counting
them and then invoking 
<A HREF="jpx$anode__get$escendant.html">get_descendant</A> with an index. The counting function is inefficient,
and almost always unnecessary. Instead, you are recommended
to consider 
<A HREF="jpx$anode__get$1escendant.html">get_next_descendant</A> as a primary tool for examining descendants of a metanode.
</P><P>
 If the number of descendants from this node is already
known, this function returns true, writing that number
into 
<A HREF="jpx$anode__cou$1scendants.html#count">count</A>. The number may not be known only if the ultimate
source of information for a JPX data source is a dynamic
cache whose contents have not been fully written (say
by a remote JPIP server). In this case, the function
attempts to parse as far as it can into the super-box
whose contents define the descendants of this node
(the super-box is either an 
<B>asoc</B> box, or a codestream or compositing layer header box).
If it encounters the end of the relevant super-box,
the function again returns true, writing the number
of descendants into 
<A HREF="jpx$anode__cou$1scendants.html#count">count</A>.
</P><P>
 If the function is unable to parse to a point at which
the number of descendants can be known, it returns
false, writing the number of descendants encountered
up to that point into the 
<A HREF="jpx$anode__cou$1scendants.html#count">count</A> argument.
</P><P>
 Since this function may perform parsing, there is
always a chance that the internal parsing machinery
invokes an internal "safe delete" operation, so that
a subsequent call to 
<A HREF="jpx$anode__is_deleted.html">is_deleted</A> returns true.
</P><P>
 Note that leaf nodes never have descendants, so this
function will always return true with 
<A HREF="jpx$anode__cou$1scendants.html#count">count</A> set to 0.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
False if it is possible that more descendants remain
in the underlying JPX data source, but the function
is unable to parse any further into the source at this
point. This generally means that the underlying 
<A HREF="jp2$y_src.html">jp2_family_src</A> object is fueled by a dynamic cache (i.e., a 
<A HREF="kdu_cache.html">kdu_cache</A> object).
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="count">count</A> [<B>int</B>&nbsp;&amp;]</H4><DIV CLASS="indented-text">
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jpx$anode__get_delayed.html"> prev </A>||<A HREF="jpx$anode__get$escendant.html"> next </A>|</P>
</BODY>
</HTML>
