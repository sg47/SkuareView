<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (jp2_colour_converter::convert_lum) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jp2$erter__is_$n_trivial.html"> prev </A>||<A HREF="jp2$erter__convert_rgb.html"> next </A>|</P>
<H1><A NAME="ToP">jp2_colour_converter::convert_lum</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Jp2_colour_converter.Convert_lum</EM></H3></DIR></DIR>
<P CLASS="function-text"><B>bool</B> convert_lum(
<A HREF ="kdu$e_buf.html">kdu_line_buf</A>&nbsp;&amp;&nbsp;line,
<B>int</B>&nbsp;width=-1)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native boolean Convert_lum(
Kdu_line_buf&nbsp;line,
int&nbsp;width)</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++apps+c$essed_io+jp2+h.html">"../apps/compressed_io/jp2.h"</A>]</P><P><A HREF="jp2$erter.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Implements any linear or non-linear mapping required
to obtain standard 
<B>JP2_sLUM_SPACE</B> samples from a single channel colour description.
The function may be used only if the 
<A HREF="jp2_colour.html">jp2_colour</A> object passed to 
<A HREF="jp2$erter__init.html">init</A> has exactly 1 colour channel. If 
<A HREF="jp2_colour__get_space.html">jp2_colour::get_space</A> already returns 
<B>JP2_sLUM_SPACE</B> this function may be called, but will do nothing.
</P><P>
 The function compensates for differences between the
tone reproduction curve of the input luminance data
and the standard sRGB tone reproduction curve (gamma)
used by 
<B>JP2_sLUM_SPACE</B>.
</P><P>
 All conversions are performed in-situ, overwriting
the original contents of the 
<A HREF="jp2$erter__convert_lum.html#line">line</A> buffer.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
False if conversion is not possible. This happens only
if 
<A HREF="jp2$erter__init.html">init</A> returned false, or was never called.
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="line">line</A> [<A HREF ="kdu$e_buf.html">kdu_line_buf</A>&nbsp;&amp;]</H4><DIV CLASS="indented-text">
<P>
Although 
<A HREF="kdu$e_buf.html">kdu_line_buf</A> objects can represent sample values in four different
ways, the present function requires the data to have
a 16-bit normalized (fixed point) representation, with
a nominal dynamic range of -0.5 to 0.5 (offsets will
be added and later removed, as necessary, to create
unsigned data for processing by tone reproduction curves).
The least significant 
<A HREF="globals.html#KDU_FIX_POINT">KDU_FIX_POINT</A> bits of each 16-bit integer are the fraction bits
of the fixed point representation. The selection of
this representation is intended to facilitate interaction
with the sample data processing operations conducted
by the objects defined in "kdu_sample_processing.h"
&mdash; see, for example, 
<A HREF="kdu$1hesis.html">kdu_synthesis</A> or 
<A HREF="kdu$2coder.html">kdu_decoder</A>.
</P>
</DIV>
<H4><A NAME="width">width</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
If negative, the function processes all 
<A HREF="kdu$e_buf__get_width.html">line.get_width</A> samples in the 
<A HREF="jp2$erter__convert_lum.html#line">line</A> buffer. Otherwise, only the first 
<A HREF="jp2$erter__convert_lum.html#width">width</A> samples are processed (there must be at least this
many samples.
</P>
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jp2$erter__is_$n_trivial.html"> prev </A>||<A HREF="jp2$erter__convert_rgb.html"> next </A>|</P>
</BODY>
</HTML>
