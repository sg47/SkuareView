<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_region_compositor::set_frame) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$sitor__cul$e_ilayers.html"> prev </A>||<A HREF="kdu$sitor__wai$m_headers.html"> next </A>|</P>
<H1><A NAME="ToP">kdu_region_compositor::set_frame</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Kdu_region_compositor.Set_frame</EM></H3></DIR></DIR>
<P CLASS="function-text"><B>void</B> set_frame(
<A HREF ="jpx$ander.html">jpx_frame_expander</A>&nbsp;*&nbsp;expander)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native void Set_frame(
Jpx_frame_expander&nbsp;expander)</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++apps+s$n_compositor+h.html">"../apps/support/kdu_region_compositor.h"</A>]</P><P><A HREF="kdu$sitor.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Use this function to add an entire set of imagery layers,
corresponding to the compositing layers obtained by
invoking 
<A HREF="jpx$ander__get_member__1.html">jpx_frame_expander::get_member</A> on the supplied 
<A HREF="kdu$sitor__set_frame.html#expander">expander</A> object. The 
<A HREF="kdu$sitor__set_frame.html#expander">expander</A> object's 
<A HREF="jpx$ander__construct__1.html">jpx_frame_expander::construct</A> function should have already been called (generally
with its 
<B>follow_persistence</B> argument set to true) to find the compositing layers
and compositing instructions associated with the complete
animation frame. Moreover, the call to 
<A HREF="jpx$ander__construct__1.html">jpx_frame_expander::construct</A> must have returned true, meaning that all required
compositing layers are available in the JPX data source.
</P><P>
 The function essentially just adds all of the relevant
compositing layers in turn, as though you had explicitly
called 
<A HREF="kdu$sitor__add_ilayer.html">add_ilayer</A>, moving all layers which are no longer required to
the inactive list. However, it also uses the JPX data
source's 
<A HREF="jpx$ition.html">jpx_composition</A> object to recover the dimensions of the compositing
surface, placing the imagery layers of the frame onto
this surface.
</P><P>
 Since the function does not permanently destroy any
of the compositing layers which may have previously
been in use, you may wish to invoke 
<A HREF="kdu$sitor__cul$e_ilayers.html">cull_inactive_ilayers</A> after each successful return from the present function.
</P><P>
 As with any of the functions which change the composition,
you should be sure at least to call 
<A HREF="kdu$sitor__get$on_buffer.html">get_composition_buffer</A> after invoking this function.
</P><P>
 Like 
<A HREF="kdu$sitor__add_ilayer.html">add_ilayer</A>, this function succeeds even if some or all of the
required codestreams' main headers are unavailable
&mdash; can happen where the ultimate source of data
is a dynamic cache. In this event, functions such as
<A HREF="kdu$sitor__fin$mal_scale.html">find_optimal_scale</A>, 
<A HREF="kdu$sitor__get$ty_layers.html">get_max_available_quality_layers</A>, 
<A HREF="kdu$sitor__acc$odestream.html">access_codestream</A>, 
<A HREF="kdu$sitor__get$ream_info.html">get_istream_info</A>, 
<A HREF="kdu$sitor__map_region.html">map_region</A>, 
<A HREF="kdu$sitor__inv$ap_region.html">inverse_map_region</A> and the like, may all return unreliable results. This
is true also for the 
<A HREF="kdu$sitor__fin$ip_window.html">find_compatible_jpip_window</A> function, which is important in forming the most efficient
JPIP queries for a region on the composition surface.
For these reasons, you should consider invoking the
<A HREF="kdu$sitor__wai$m_headers.html">waiting_for_stream_headers</A> function to determine the point at which all required
codestream headers have become available, at which
point you may need to re-issue previously unreliable
calls &mdash; for example, you might issue a new JPIP
client request at this point, based on 
<A HREF="kdu$sitor__fin$ip_window.html">find_compatible_jpip_window</A>.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="expander">expander</A> [<A HREF ="jpx$ander.html">jpx_frame_expander</A>&nbsp;*]</H4><DIV CLASS="indented-text">
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$sitor__cul$e_ilayers.html"> prev </A>||<A HREF="kdu$sitor__wai$m_headers.html"> next </A>|</P>
</BODY>
</HTML>
