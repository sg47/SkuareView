<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_message_queue::configure) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$queue__~kd$age_queue.html"> prev </A>||<A HREF="kdu$queue__put_text__1.html"> next </A>|</P>
<H1><A NAME="ToP">kdu_message_queue::configure</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Kdu_message_queue.Configure</EM></H3></DIR></DIR>
<P CLASS="function-text"><B>void</B> configure(
<B>int</B>&nbsp;max_queued_messages,
<B>bool</B>&nbsp;auto_pop,
<B>bool</B>&nbsp;throw_exceptions,
<B>kdu_exception</B>&nbsp;exception_val=KDU_ERROR_EXCEPTION)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native void Configure(
int&nbsp;max_queued_messages,
boolean&nbsp;auto_pop,
boolean&nbsp;throw_exceptions,
int&nbsp;exception_val)</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++coresy$du_messaging+h.html">"../coresys/common/kdu_messaging.h"</A>]</P><P><A HREF="kdu$queue.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Use this function to configure the queue for anything
other than a simple buffer for 
<A HREF="kdu$ssage.html">kdu_message</A>-delivered text.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="max_queued_messages">max_queued_messages</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
Provides a limit on the number of messages which can
be stored on the internal queue, including the one
which is currently being generated. This value must
not be less than 1. If the limit is exceeded (e.g.,
because the 
<A HREF="kdu$queue__pop_message.html">pop_message</A> function is called too infrequently, at least from
a context in which it can succeed), the least recent
messages are dropped. If you never call 
<A HREF="kdu$queue__configure.html">configure</A>, the default queue limit is 10. For a message service
that you intend to pass to 
<A HREF="globals__kdu$mize_errors.html">kdu_customize_errors</A> or 
<A HREF="globals__kdu$ze_warnings.html">kdu_customize_warnings</A>, it is recommended that the message queue limit be
at least as large as the number of threads in your
system which could possibly generate errors/warnings.
Of course, you may pick a much larger upper bound,
but don't pick something completely ridiculous, since
that could result in a lot of memory being allocated
if the system gets trapped in some error generating
loop.
</P>
</DIV>
<H4><A NAME="auto_pop">auto_pop</A> [<B>bool</B>]</H4><DIV CLASS="indented-text">
<P>
If this argument is true, the 
<A HREF="kdu$queue__pop_message.html">pop_message</A> function will be called from within 
<A HREF="kdu$queue__flush.html">flush</A> (with 
<B>end_of_message</B>=true) to pop the recently completed message and any
other messages from the queue, in order. This is exactly
what you want when implementing a message handling
service for 
<A HREF="kdu_error.html">kdu_error</A> and 
<A HREF="kdu$rning.html">kdu_warning</A> delivered messages (the kind of service you would
pass to 
<A HREF="globals__kdu$mize_errors.html">kdu_customize_errors</A> or 
<A HREF="globals__kdu$ze_warnings.html">kdu_customize_warnings</A>), but you do then need to override 
<A HREF="kdu$queue__pop_message.html">pop_message</A> in a custom derived class, to decide whether and how
to display popped message text.
</P>
</DIV>
<H4><A NAME="throw_exceptions">throw_exceptions</A> [<B>bool</B>]</H4><DIV CLASS="indented-text">
<P>
If this argument is true, an integer exception will
be thrown with value 
<A HREF="kdu$queue__configure.html#exception_val">exception_val</A> at the end of a call to 
<A HREF="kdu$queue__flush.html">flush</A> which has 
<B>end_of_message</B>=true. This is exactly what you want when implementing
an error message handler (something you would pass
to 
<A HREF="globals__kdu$mize_errors.html">kdu_customize_errors</A>).
</P><P>
 Unless you have good reason to do otherwise, you are
strongly recommended to use the default 
<A HREF="kdu$queue__configure.html#exception_val">exception_val</A> of 
<A HREF="globals.html#KDU_ERROR_EXCEPTION">KDU_ERROR_EXCEPTION</A>.
</P>
</DIV>
<H4><A NAME="exception_val">exception_val</A> [<B>kdu_exception</B>]</H4><DIV CLASS="indented-text">
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$queue__~kd$age_queue.html"> prev </A>||<A HREF="kdu$queue__put_text__1.html"> next </A>|</P>
</BODY>
</HTML>
