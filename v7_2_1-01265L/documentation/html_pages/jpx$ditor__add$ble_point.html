<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (jpx_roi_editor::add_scribble_point) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jpx$ditor__cle$le_points.html"> prev </A>||<A HREF="jpx$ditor__get$le_points.html"> next </A>|</P>
<H1><A NAME="ToP">jpx_roi_editor::add_scribble_point</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Jpx_roi_editor.Add_scribble_point</EM></H3></DIR></DIR>
<P CLASS="function-text"><A HREF ="kdu_dims.html">kdu_dims</A> add_scribble_point(
<A HREF ="kdu_coords.html">kdu_coords</A>&nbsp;point)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native Kdu_dims Add_scribble_point(
Kdu_coords&nbsp;point)</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++apps+c$essed_io+jpx+h.html">"../apps/compressed_io/jpx.h"</A>]</P><P><A HREF="jpx$ditor.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Provides a service for accumulating points which define
a "scribble path". Successive points along the path
are assumed to be connected in some way (not necessarily
by straight line segments). Typically, these points
correspond to successively detected mouse locations
while an interactive user moves the mouse with a button
held down. However, they could be generated from any
number of other application-dependent processes. One
reason for accumulating scribble paths in this object
is that the 
<A HREF="jpx$ditor__undo.html">undo</A> and 
<A HREF="jpx$ditor__redo.html">redo</A> functions will then automatically manage the scribble
paths as well, which facilitates the implementation
of an interactive editor.
</P><P>
 One noteworthy feature of the current function is
that it automatically eliminates loops in the evolving
scribble path. Thus, as points are added, the total
number of points in the path (as returned by 
<B>get_scribble_path</B>) may actually decrease. The function detects a loop
whenever the line segment joining the newly added point
and the previous one intersects or touches the line
segment joining any existing pair of consecutive scribble
points. Upon detection, the function removes either
the loop or the leading section of the scribble path,
whichever is shorter, in such a way as to ensure that
no scribble point so much as touches any other scribble
point or any line segment between adjacent scribble
points.
</P><P>
 Also, if some internal limit on the maximum number
of scribble points is exceeded, the function reduces
the path complexity by sub-sampling points that have
already been collected. This process may also cause
the number of points identified by 
<A HREF="jpx$ditor__get$le_points.html">get_scribble_points</A> to decrease discontinuously as points are progressively
added.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
A region large enough to include all points and edges
affected by the change. This might be larger than you
think if some sub-sampling occurred, or loops were
removed.
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="point">point</A> [<A HREF ="kdu_coords.html">kdu_coords</A>]</H4><DIV CLASS="indented-text">
<P>
Points have the same interpretation as all other locations
managed by the editor; i.e., each point corresponds
to a location on the high resolution canvas coordinate
system of some codestream, measured with respect to
the origin of the image in that codestream.
</P>
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jpx$ditor__cle$le_points.html"> prev </A>||<A HREF="jpx$ditor__get$le_points.html"> next </A>|</P>
</BODY>
</HTML>
