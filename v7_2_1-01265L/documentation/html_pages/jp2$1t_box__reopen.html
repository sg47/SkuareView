<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (jp2_output_box::reopen) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jp2$1t_box__end_rewrite.html"> prev </A>||<A HREF="jp2$1t_box__wri$nd_close.html"> next </A>|</P>
<H1><A NAME="ToP">jp2_output_box::reopen</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Jp2_output_box.Reopen</EM></H3></DIR></DIR>
<P CLASS="function-text">virtual <B>kdu_long</B> reopen(
<B>kdu_uint32</B>&nbsp;box_type,
<B>kdu_long</B>&nbsp;offset)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native long Reopen(
long&nbsp;box_type,
long&nbsp;offset)</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++apps+c$essed_io+jp2+h.html">"../apps/compressed_io/jp2.h"</A>]</P><P><A HREF="jp2$1t_box.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
This function provides a safe and convenient means
to rewrite entire boxes, rather than invoking 
<A HREF="jp2$1t_box__sta$_rewrite.html">start_rewrite</A> and 
<A HREF="jp2$1t_box__end_rewrite.html">end_rewrite</A> directly. It has the advantage that it can also rewrite
the original box's type code and it preserves the original
box header length (16 bytes or 8 bytes). The function
may be invoked only after the original box was closed
(see 
<A HREF="jp2$1t_box__close.html">close</A>). Of course, the function may not be invoked on boxes
that have not be closed.
</P><P>
 If successful, the function returns the total number
of bytes left in the body of the re-opened box, starting
from the location identified by 
<A HREF="jp2$1t_box__reopen.html#offset">offset</A>. You may write at most this number of bytes to the
box, either directly or by opening, writing and closing
sub-boxes.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
A -ve value if the box could not be re-opened or if
<A HREF="jp2$1t_box__reopen.html#offset">offset</A> exceeds the number of bytes in the body of the box.
Otherwise, the function returns the number of bytes
in the body of the box being re-opened, minus 
<A HREF="jp2$1t_box__reopen.html#offset">offset</A>. Note that a box's length is not changed by re-opening
it; if you do not rewrite all of the body bytes, the
remaining bytes will retain their original values.
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="box_type">box_type</A> [<B>kdu_uint32</B>]</H4><DIV CLASS="indented-text">
<P>
Must not be 0. If this argument agrees with the original
box's type code, the box signature will not be overwritten.
</P>
</DIV>
<H4><A NAME="offset">offset</A> [<B>kdu_long</B>]</H4><DIV CLASS="indented-text">
<P>
Number of bytes from the start of the box, at which
to start rewriting. If this values is -ve, or exceeds
the number of bytes in the body of the box, the function
will return a -ve value and the box will remain closed.
</P>
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jp2$1t_box__end_rewrite.html"> prev </A>||<A HREF="jp2$1t_box__wri$nd_close.html"> next </A>|</P>
</BODY>
</HTML>
