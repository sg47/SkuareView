<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_channel_mapping::add_alpha_to_configuration) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$pping__configure__4.html"> prev </A>||<A HREF="kdu$pping__get$_channels.html"> next </A>|</P>
<H1><A NAME="ToP">kdu_channel_mapping::add_alpha_to_configuration</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Kdu_channel_mapping.Add_alpha_to_configuration</EM></H3></DIR></DIR>
<P CLASS="function-text"><B>bool</B> add_alpha_to_configuration(
<A HREF ="jp2$nnels.html">jp2_channels</A>&nbsp;channels,
<B>int</B>&nbsp;codestream_idx,
<A HREF ="jp2$lette.html">jp2_palette</A>&nbsp;palette,
<A HREF ="jp2$sions.html">jp2_dimensions</A>&nbsp;codestream_dimensions,
<B>bool</B>&nbsp;ignore_premultiplied_alpha=true)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native boolean Add_alpha_to_configuration(
Jp2_channels&nbsp;channels,
int&nbsp;codestream_idx,
Jp2_palette&nbsp;palette,
Jp2_dimensions&nbsp;codestream_dimensions,
boolean&nbsp;ignore_premultiplied_alpha)</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++apps+s$decompressor+h.html">"../apps/support/kdu_region_decompressor.h"</A>]</P><P><A HREF="kdu$pping.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Unlike the 
<A HREF="kdu$pping__configure__1.html">configure</A> functions, this function does not call 
<A HREF="kdu$pping__clear.html">clear</A> automatically. Instead, it tries to add an alpha channel
to whatever configuration already exists. It is legal
(although not useful) to call this function even if
an alpha channel has already been configured, since
the function strips back the current configuration
to include only the colour channels before looking
to add an alpha channel. Note, however, that it is
perfectly acceptable (and quite useful) to add an alpha
channel to a configuration which has just been cleared,
so that only alpha information is recovered, without
any colour information.
</P><P>
 If a single alpha component cannot be found in the
<A HREF="kdu$pping__add$iguration.html#channels">channels</A> object, the function returns false. This happens if
there is no alpha (opacity) information, or if multiple
distinct alpha channels are identified by 
<A HREF="kdu$pping__add$iguration.html#channels">channels</A>, or if the single alpha channel does not use the indicated
codestream. The 
<A HREF="kdu$pping__add$iguration.html#palette">palette</A> must be provided since an alpha channel may be formed
by passing the relevant image component samples through
one of the palette lookup tables.
</P><P>
 JP2/JPX files may identify alpha (opacity) information
as premultiplied or not premultiplied. These are sometimes
known as associated and unassociated alpha. The 
<A HREF="kdu$pping__add$iguration.html#ignore_premultiplied_alpha">ignore_premultiplied_alpha</A> argument controls which form of alpha information
you are interested in adding, as indicated in the argument
description below. For compatibility with earlier versions
of the function, this argument defaults to true.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
True only if there is exactly one opacity channel and
it is based on the indicated codestream. Otherwise,
the function returns false, adding no channels to the
configuration.
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="channels">channels</A> [<A HREF ="jp2$nnels.html">jp2_channels</A>]</H4><DIV CLASS="indented-text">
</DIV>
<H4><A NAME="codestream_idx">codestream_idx</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
</DIV>
<H4><A NAME="palette">palette</A> [<A HREF ="jp2$lette.html">jp2_palette</A>]</H4><DIV CLASS="indented-text">
</DIV>
<H4><A NAME="codestream_dimensions">codestream_dimensions</A> [<A HREF ="jp2$sions.html">jp2_dimensions</A>]</H4><DIV CLASS="indented-text">
</DIV>
<H4><A NAME="ignore_premultiplied_alpha">ignore_premultiplied_alpha</A> [<B>bool</B>]</H4><DIV CLASS="indented-text">
<P>
If true, only unassociated alpha channels are examined,
as reported by the 
<A HREF="jp2$nnels__get$y_mapping.html">jp2_channels::get_opacity_mapping</A> function. Otherwise, both regular opacity and premultiplied
opacity are considered, as reported by the 
<A HREF="jp2$nnels__get$t_mapping.html">jp2_channels::get_premult_mapping</A> function. To discover which type of alpha is being
installed, you can call the function first with 
<A HREF="kdu$pping__add$iguration.html#ignore_premultiplied_alpha">ignore_premultiplied_alpha</A> set to true and then, if this call returns false,
again with 
<A HREF="kdu$pping__add$iguration.html#ignore_premultiplied_alpha">ignore_premultiplied_alpha</A> set to false.
</P>
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$pping__configure__4.html"> prev </A>||<A HREF="kdu$pping__get$_channels.html"> next </A>|</P>
</BODY>
</HTML>
