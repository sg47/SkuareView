<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (jpx_source::generate_metareq) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jpx_source__acc$position.html"> prev </A>||<A HREF="jpx_source__acc$_manager.html"> next </A>|</P>
<H1><A NAME="ToP">jpx_source::generate_metareq</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Jpx_source.Generate_metareq</EM></H3></DIR></DIR>
<P CLASS="function-text"><B>int</B> generate_metareq(
<A HREF ="kdu_window.html">kdu_window</A>&nbsp;*&nbsp;client_window,
<B>int</B>&nbsp;min_frame_idx=0,
<B>int</B>&nbsp;max_frame_idx=-1,
<B>int</B>&nbsp;max_layer_idx=-1,
<B>int</B>&nbsp;max_codestream_idx=-1,
<B>bool</B>&nbsp;priority=true)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native int Generate_metareq(
Kdu_window&nbsp;client_window,
int&nbsp;min_frame_idx,
int&nbsp;max_frame_idx,
int&nbsp;max_layer_idx,
int&nbsp;max_codestream_idx,
boolean&nbsp;priority)</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++apps+c$essed_io+jpx+h.html">"../apps/compressed_io/jpx.h"</A>]</P><P><A HREF="jpx_source.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Automatically adds metadata requests to the supplied
<A HREF="jpx_source__gen$_metareq.html#client_window">client_window</A> that are sufficient to ensure that calls to 
<A HREF="jpx_source__cou$g_layers.html">count_compositing_layers</A>, 
<A HREF="jpx_source__cou$estreams.html">count_codestreams</A>, 
<A HREF="jpx$ition__count_tracks.html">jpx_composition::count_tracks</A>, 
<A HREF="jpx$ition__cou$ck_frames.html">jpx_composition::count_track_frames</A> and 
<B>jpx_composition::access_track</B> should eventually succeed, if the requested entities
exist in the original source.
</P><P>
 All JPIP servers are expected to eventually deliver
the top-level structure of the file, although this
might be done with a low priority. This is sufficient
to eventually determine the number of top-level compositing
layers and top-level codestreams in the file, as well
as the top-level Composition box. However, it is not
sufficient to ensure that the compositing layers, codestreams
and compositing instructions found within JPX containers
(Compositing Layer Extensions boxes) and Multiple Codestream
boxes will eventually be discovered, unless the relevant
entities are requested explicitly. This function adds
the metadata requests required to ensure that these
entities can be discovered.
</P><P>
 The function does not itself introduce requests for
image content or even the contents of Compositing Layer
or Codestream headers. It does generate requests for
JPX Compositing Layer Extensions Info boxes, Multiple
Codestream Info boxes and Instruction Set boxes, to
the extent that these are not yet available and may
be required to discover frames, compositing layers
or codestreams that lie within the nominated ranges.
</P><P>
 By default, the caller is assumed to be interested
in all compositing layers, codestreams and composited
frames &mdash; not that their contents will be requested,
only that sufficient information will be requested
to determine their existence or absence from the original
source. However, the range of frames, compositing layers
and codestreams that are of interest may be limited
via the function's various arguments, and this may
sometimes yield fewer metadata requests or requests
that can be more economically served by a JPIP server.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
The number of distinct calls to 
<A HREF="kdu_window__add_metareq.html">client_window&rarr;add_metareq</A> which were generated by the function. This value might
be 0 if all relevant boxes exist already.
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="client_window">client_window</A> [<A HREF ="kdu_window.html">kdu_window</A>&nbsp;*]</H4><DIV CLASS="indented-text">
<P>
Object whose 
<A HREF="kdu_window__add_metareq.html">kdu_window::add_metareq</A> function is used to add metadata requests for the
relevant entities.
</P>
</DIV>
<H4><A NAME="min_frame_idx">min_frame_idx</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
Minimum frame index for which you are interested in
accessing frames via 
<B>access_frame</B> &mdash; note that there is nothing track-specific
about the way in which this function works, so there
is no need or means to identify presentation tracks
of interest.
</P>
</DIV>
<H4><A NAME="max_frame_idx">max_frame_idx</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
Maximum frame index for which you are interested in
accessing frames via 
<B>access_frame</B> &mdash; a -ve value means that you are interested
in metadata that would allow you to access all frames
starting from the one identified by 
<A HREF="jpx_source__gen$_metareq.html#min_frame_idx">min_frame_idx</A>.
</P>
</DIV>
<H4><A NAME="max_layer_idx">max_layer_idx</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
Index of maximum compositing layer whose existence
you are interested in being able to confirm or deny
&mdash; a -ve value means that you are interested in
knowing the existence of all compositing layers in
the original source.
</P>
</DIV>
<H4><A NAME="max_codestream_idx">max_codestream_idx</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
Index of maximum codestream whose existence you are
interested in being able to confirm or deny &mdash;
a -ve value means that you are interested in knowing
the existence of all codestreams in the original source.
</P>
</DIV>
<H4><A NAME="priority">priority</A> [<B>bool</B>]</H4><DIV CLASS="indented-text">
<P>
Passed through to 
<A HREF="kdu_window__add_metareq.html">client_window&rarr;add_metareq</A>.
</P>
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jpx_source__acc$position.html"> prev </A>||<A HREF="jpx_source__acc$_manager.html"> next </A>|</P>
</BODY>
</HTML>
