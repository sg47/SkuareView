<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_sampled_range) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#FFF491">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#FuncS"> functions </A>||<A HREF="#VarS"> variables </A>|</P>
<H1><A NAME="ToP">kdu_sampled_range [struct]</A></H1>
<DIR><DIR><H3><U>Java:</U> class Kdu_sampled_range</H3></DIR></DIR>

<P>[Declared in <A HREF="++++apps+c$lient_window+h.html">"../apps/compressed_io/kdu_client_window.h"</A>]</P><P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
This structure is used to keep track of a range of
values which may have been sub-sampled. In the context
of the 
<A HREF="kdu_window.html">kdu_window</A> object, it provides an efficient mechanism for expressing
lists of code-stream indices or image component indices.
</P><P>
 The range includes all values of the form 
<A HREF="kdu$range.html#from">from</A> + k*
<A HREF="kdu$range.html#step">step</A> which are no larger than 
<A HREF="kdu$range.html#to">to</A>, where k is a non-negative integer.
</P><P>
 In addition to ranges, the object may also be used
to keep track of geometric qualifiers and expansions
(in terms of member codestreams) for ranges of higher
level objects such as JPX compositing layers.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="FuncS">Public Functions</A></H2><DIV CLASS="indented-text">
<P><A HREF="kdu$range__kdu$led_range__1.html">kdu_sampled_range</A> <EM>(5 forms)</EM> {<U>Java:</U> Kdu_sampled_range}
</P>
<P><A HREF="kdu$range__is_empty.html">is_empty</A> {<U>Java:</U> Is_empty}
</P>
<P><A HREF="kdu$range__operator!.html">operator!</A></P>
<P><A HREF="kdu$range__get_from.html">get_from</A> {<U>Java:</U> Get_from}
</P>
<P><A HREF="kdu$range__get_to.html">get_to</A> {<U>Java:</U> Get_to}
</P>
<P><A HREF="kdu$range__get_step.html">get_step</A> {<U>Java:</U> Get_step}
</P>
<P><A HREF="kdu$range__get$apping_id.html">get_remapping_id</A> {<U>Java:</U> Get_remapping_id}
</P>
<P><A HREF="kdu$range__get$text_type.html">get_context_type</A> {<U>Java:</U> Get_context_type}
</P>
<P><A HREF="kdu$range__set_from.html">set_from</A> {<U>Java:</U> Set_from}
</P>
<P><A HREF="kdu$range__set_to.html">set_to</A> {<U>Java:</U> Set_to}
</P>
<P><A HREF="kdu$range__set_step.html">set_step</A> {<U>Java:</U> Set_step}
</P>
<P><A HREF="kdu$range__set$apping_id.html">set_remapping_id</A> {<U>Java:</U> Set_remapping_id}
</P>
<P><A HREF="kdu$range__set$text_type.html">set_context_type</A> {<U>Java:</U> Set_context_type}
</P>
</DIV>
<H2><A NAME="VarS">Public Variables</A></H2><DIV CLASS="indented-text">
<H4><A NAME="from">from</A> [<B>int</B>] -- <U>Exported Property</U>&nbsp;{ <A HREF="kdu$range__get_from.html">get</A>; <A HREF="kdu$range__set_from.html">set</A>; }</H4><DIV CLASS="indented-text">
<P>
Inclusive, non-negative lower bound of the range.
</P>
</DIV>
<H4><A NAME="to">to</A> [<B>int</B>] -- <U>Exported Property</U>&nbsp;{ <A HREF="kdu$range__get_to.html">get</A>; <A HREF="kdu$range__set_to.html">set</A>; }</H4><DIV CLASS="indented-text">
<P>
Inclusive, non-negative upper bound of the range.
</P>
</DIV>
<H4><A NAME="step">step</A> [<B>int</B>] -- <U>Exported Property</U>&nbsp;{ <A HREF="kdu$range__get_step.html">get</A>; <A HREF="kdu$range__set_step.html">set</A>; }</H4><DIV CLASS="indented-text">
<P>
Strictly positive step value.
</P>
</DIV>
<H4><A NAME="remapping_ids">remapping_ids[]</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
Two parameters which may be used to signal the mapping
of the view-window resolution and region onto the coordinates
of particular codestreams. The interpretation of these
parameters depends on the 
<A HREF="kdu$range.html#context_type">context_type</A> member. They shall be ignored if 
<A HREF="kdu$range.html#context_type">context_type</A> is 0.
</P>
</DIV>
<H4><A NAME="context_type">context_type</A> [<B>int</B>] -- <U>Exported Property</U>&nbsp;{ <A HREF="kdu$range__get$text_type.html">get</A>; <A HREF="kdu$range__set$text_type.html">set</A>; }</H4><DIV CLASS="indented-text">
<P>
This member is 0 (
<A HREF="globals.html#KDU_JPIP_CONTEXT_NONE">KDU_JPIP_CONTEXT_NONE</A>) unless the present object describes a range of image
entities (e.g. JPX compositing layers or MJ2 video
tracks) within a codestream context, or a range of
codestream indices which were obtained by translating
such a context. Currently, the only legal non-zero
values are those defined by the following macros:
</P><UL><LI>
<A HREF="globals.html#KDU_JPIP_CONTEXT_JPXL">KDU_JPIP_CONTEXT_JPXL</A> &mdash; In this case, the indices in the sampled range
correspond to JPX compositing layer indices, starting
from 0 for the first compositing layer in the data
source. Ranges with this context type may be used by
the 
<A HREF="kdu_window.html#contexts">kdu_window::contexts</A> range set. The 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A> correspond (in order) to the index (from 0) of an
instruction set box, and the index (from 0) of an instruction
within that instruction set box, which together define
the mapping of view-window coordinates from a complete
composited image to the individual codestream reference
grids. If 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[0] is negative, the view-window coordinates are mapped
from the compositing layer registration grid (rather
than a complete composited image) to the individual
codestream reference grids. For a full set of equations
describing this remapping process, see the JPIP standard
(FCD-2).
</LI><LI>
<A HREF="globals.html#KDU_JPIP_CONTEXT_MJ2T">KDU_JPIP_CONTEXT_MJ2T</A> &mdash; In this case, the indices in the sampled range
correspond to MJ2 video tracks, starting from 1 for
the first track (a quirk of MJ2 is that tracks are
numbered from 1 rather than 0). Ranges with this context
type may be used by the 
<A HREF="kdu_window.html#contexts">kdu_window::contexts</A> range set. In this case, 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[0] is used to control view window transformations,
while 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[1] is used to control temporal transformations. A
negative value for 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[0] means that there shall be no view window remapping;
a value of 0 means that remapping is to be performed
at the track level; and a value of 1 means that remapping
is to be performed at the movie level. A negative value
for 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[1] means that the first codestream in the track is
to be taken as the start of the range of codestreams
which belong to the context. A value of 0 means that
the context starts with the first codestream in the
track which was captured at the time when the request
is processed (the JPIP "now" time). The value of 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[1] may be ignored if video is not being captured live.
</LI><LI>
<A HREF="globals.html#KDU_JPIP_CONTEXT_TRANSLATED">KDU_JPIP_CONTEXT_TRANSLATED</A> &mdash; In this case, the indices in the sampled range
correspond to codestreams which have been implicitly
included within the 
<A HREF="kdu_window.html#codestreams">kdu_window::codestreams</A> range set as a result of translating a codestream
context found in the 
<A HREF="kdu_window.html#contexts">kdu_window::contexts</A> range set. Such entries may be generated by a JPIP
server. The 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[0] value, in this case, holds the index (starting
from 0) of the context range, found within 
<A HREF="kdu_window.html#contexts">kdu_window::contexts</A> whose translation yielded the codestreams identified
by the present range. 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[1] identifies which element of the referenced context
range was translated. A value of 0 means that the first
element in the referenced context range was translated
to yield the range of codestreams identified here.
A value of 1 means that the second element in the context
range was translated, and so forth. As an example,
suppose the second sampled range in 
<A HREF="kdu_window.html#contexts">kdu_window::contexts</A> holds the range "5-8:2" with context-type 
<A HREF="globals.html#KDU_JPIP_CONTEXT_JPXL">KDU_JPIP_CONTEXT_JPXL</A>, then if the present range has 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[0]=1 and 
<A HREF="kdu$range.html#remapping_ids">remapping_ids</A>[1]=1, the range represents codestreams (and their
associated view-windows) which were translated from
the JPX compositing layer with index 7.
</LI></UL>
</DIV>
<H4><A NAME="expansion">expansion</A> [<A HREF ="kdu$e_set.html">kdu_range_set</A>&nbsp;*]</H4><DIV CLASS="indented-text">
<P>
If non-NULL, this member points to a 
<A HREF="kdu$e_set.html">kdu_range_set</A> which provides an expansion of the codestream identifiers
associated with a context. The field may be non-NULL
only if 
<A HREF="kdu$range.html#context_type">context_type</A> is non-zero and refers to a codestream context (e.g.,
JPX compositing layers or MJ2 video tracks). Moveover,
the individual 
<A HREF="kdu$range.html">kdu_sampled_range</A> objects within the referenced 
<A HREF="kdu$range.html#expansion">expansion</A> must have zero-valued 
<A HREF="kdu$range.html#context_type">context_type</A> members.
</P><P>
 The object referenced by 
<A HREF="kdu$range.html#expansion">expansion</A> is not considered to be owned by the present object,
and it will not be destroyed when the present object
is destroyed. It must be managed separately. In particular,
<A HREF="kdu_window.html">kdu_window</A> provides for the management of codestream context
expansions.
</P><P>
 In JPIP client-server communication, expansions play
a slightly different role to codestream ranges with
the 
<A HREF="globals.html#KDU_JPIP_CONTEXT_TRANSLATED">KDU_JPIP_CONTEXT_TRANSLATED</A> context type. Specifically, when a client request
includes one or more codestream contexts, managed by
<A HREF="kdu_window.html#contexts">kdu_window::contexts</A>, the server responds by sending back the requested
codestream contexts (or as many as it could translate),
expanding each into a set of codestream ranges. The
server also sends back information about the actual
codestreams for which it will serve data, which are
generally a subset of those requested, directly or
indirectly via codestream contexts. This information
is managed by the 
<A HREF="kdu_window.html#codestreams">kdu_window::codestreams</A> range set. Ranges in that set have the special 
<A HREF="globals.html#KDU_JPIP_CONTEXT_TRANSLATED">KDU_JPIP_CONTEXT_TRANSLATED</A> context type if and only if they represent data which
is being served as a result of translating a codestream
context. Otherwise they have a context type of 0. The
distinction between codestreams which are being served
as a result of context translation and codestreams
which are being served as a result of a direct codestream
request can be very important. It allows the client
and server to figure out whether or not a new request
is the same, a superset of, or a subset of a previous
request, possibly modified by the server, for which
a response is in progress.
</P>
</DIV>
</DIV>
<P ALIGN="CENTER"><HR></P>
<P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#FuncS"> functions </A>||<A HREF="#VarS"> variables </A>|</P>
</BODY>
</HTML>
